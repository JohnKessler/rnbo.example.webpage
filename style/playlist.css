/* ==========================================================
   RNBO Playlist UI â€“ Reframe Dark Skin
   iOS Safari iframe-safe: NO vh/dvh inside iframe
   ========================================================== */

/* ---- Reset / base ---- */
html, body {
  margin: 0;
  padding: 0;
  height: 100%;            /* iframe-driven height */
  background: transparent;
  overflow: hidden;        /* internal list scrolls, not the page */
  -webkit-text-size-adjust: 100%;
}

body {
  font-family: 'Source Sans Pro', sans-serif;
  color: #fff;
}

/* ---- Outer centering ---- */
.wrap {
  display: flex;
  justify-content: center;
  padding: 0;
  height: 100%;            /* iframe-driven height */
  box-sizing: border-box;
}

/* ---- Main container ---- */
#playlist-ui {
  width: min(90rem, 100%);
  height: 100%;            /* IMPORTANT: use iframe height, not vh */
  background: #181818;
  border: 1px solid rgba(255,255,255,.25);
  box-sizing: border-box;

  display: flex;
  flex-direction: column;
  overflow: hidden;        /* prevent outer scrollbars */
}

/* Fixed top region */
#playlist-ui .rnbo-top {
  padding: 6rem;
  box-sizing: border-box;
  flex: 0 0 auto;

  position: relative;
  z-index: 2;
  background: #181818;
}

/* Scroll region */
#playlist-ui .rnbo-scroll {
  padding: 0 6rem 6rem 6rem;
  box-sizing: border-box;

  flex: 1 1 auto;
  min-height: 0;                 /* critical for flex scroll */
  overflow-y: auto;
  overflow-x: hidden;

  position: relative;
  z-index: 1;

  -webkit-overflow-scrolling: touch;
}

/* ---- Headings / readouts ---- */
#playlist-ui h1,
#playlist-ui h2,
#playlist-ui h3 {
  margin: 0 0 2rem 0;
  font-weight: 400;
}

#playlist-ui .rnbo-readout,
#playlist-ui .rnbo-hint,
#playlist-ui .rnbo-meta {
  color: #7c7c7c;
  font-size: 1.8rem;
  line-height: 1.48em;
}

/* ---- Controls bar ---- */
#playlist-ui .rnbo-controls {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 2.5rem;
  margin-bottom: 3rem;
}

/* ---- Icon buttons ---- */
#playlist-ui .rnbo-btn {
  width: 5.6rem;
  height: 5.6rem;
  border-radius: 100%;
  border: 0.1rem solid #fff;
  background: none;
  color: #fff;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 1.6rem;
  user-select: none;
}

#playlist-ui .rnbo-btn:hover { background: #181818; }
#playlist-ui .rnbo-btn:active { transform: translateY(1px); }

/* ---- Labels ---- */
#playlist-ui .rnbo-label {
  display: inline-flex;
  align-items: center;
  gap: 1.2rem;
  color: #7c7c7c;
  font-size: 2.1rem;
}

/* ---- Sliders ---- */
#playlist-ui .rnbo-slider {
  width: 28rem;
  background: none;
}

/* WebKit slider */
#playlist-ui .rnbo-slider::-webkit-slider-runnable-track {
  height: 0.1rem;
  background: rgba(255,255,255,.25);
}
#playlist-ui .rnbo-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 2.6rem;
  height: 2.6rem;
  background: #fff;
  border-radius: 100%;
  margin-top: -1.25rem;
  cursor: pointer;
}

/* Firefox slider */
#playlist-ui .rnbo-slider::-moz-range-track {
  height: 0.1rem;
  background: rgba(255,255,255,.25);
}
#playlist-ui .rnbo-slider::-moz-range-thumb {
  width: 2.6rem;
  height: 2.6rem;
  background: #fff;
  border-radius: 100%;
  border: none;
  cursor: pointer;
}

/* ---- Progress bar ---- */
#playlist-ui .rnbo-progress {
  width: 100%;
  height: 1rem;
  background: #75c986;
  border: 1px solid rgba(255,255,255,.25);
  margin-top: 2rem;
}

#playlist-ui progress::-webkit-progress-value { background: #fff; }
#playlist-ui progress::-webkit-progress-bar { background: #212121; }
#playlist-ui progress::-moz-progress-bar { background: #fff; }

/* ---- Playlist list ---- */
#playlist-ui .rnbo-list {
  display: flex;
  flex-direction: column;
  gap: 4rem;
  margin-top: 5rem;
}

/* ---- Playlist row ---- */
#playlist-ui .rnbo-row {
  padding-bottom: 4rem;
  border-bottom: 1px solid rgba(255,255,255,.25);
}
#playlist-ui .rnbo-row.selected { border-bottom-color: #fff; }

/* ---- Row header ---- */
#playlist-ui .rnbo-row-header {
  display: flex;
  align-items: center;
  gap: 2rem;
  margin-bottom: 2rem;
}

/* Drag handle */
#playlist-ui .rnbo-handle {
  width: 5.6rem;
  height: 5.6rem;
  border-radius: 100%;
  border: 0.1rem solid #fff;
  background: #3e3e40;
  color: #fff;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: grab;
}

/* Filename */
#playlist-ui .rnbo-filename {
  color: #fff;
  font-size: large;
  line-height: 1.4em;
  letter-spacing: -0.005em;
  font-weight: 300;
  word-break: break-word;
}

/* ---- Waveform canvas ---- */
#playlist-ui .rnbo-canvas {
  width: 100%;
  height: auto;
  background: #303030;
  border: 1px solid rgba(255,255,255,.25);
}

/* ==========================================================
   MOBILE: make header not eat the planet
   ========================================================== */
@media (max-width: 480px) {
  #playlist-ui .rnbo-top {
    padding: 16px 16px 10px 16px;
    max-height: 60%;     /* guaranteed room for scroll region */
    overflow: hidden;
  }

  #playlist-ui .rnbo-scroll {
    padding: 0 16px 16px 16px;
  }

  #playlist-ui .rnbo-controls {
    gap: 12px;
    margin-bottom: 12px;
  }

  #playlist-ui .rnbo-label { font-size: 16px; gap: 8px; }
  #playlist-ui .rnbo-readout,
  #playlist-ui .rnbo-hint,
  #playlist-ui .rnbo-meta { font-size: 14px; }

  #playlist-ui .rnbo-slider { width: 160px; }

  #playlist-ui .rnbo-btn,
  #playlist-ui .rnbo-iconbtn {
    width: 44px;
    height: 44px;
  }

  #playlist-ui .rnbo-list {
    margin-top: 18px;
    gap: 20px;
  }

  #playlist-ui .rnbo-row { padding-bottom: 18px; }
  #playlist-ui .rnbo-handle { width: 44px; height: 44px; }
}

/* Existing tablet-ish breakpoint */
@media (max-width: 844px) {
  #playlist-ui .rnbo-top { padding: 60px; }
  #playlist-ui .rnbo-scroll { padding: 0 60px 60px 60px; }
  #playlist-ui .rnbo-slider { width: auto; }
  #playlist-ui .rnbo-filename { font-size: large; }
}